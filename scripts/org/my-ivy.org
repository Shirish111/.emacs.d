#+TITLE: Ivy
#+AUTHOR: Shirishkumar Togarla
#+PROPERTY: header-args :tangle (f-expand (concat (f-base (buffer-file-name)) ".el") "../src")
* Package Initialization
#+begin_src elisp
;;; my-ivy.el --- Configuration to be loaded while starting emacs
;;; Commentary

;; The `my-ivy' package is used to load the required configuration
#+end_src
* Ivy Mode
#+begin_src elisp
  ;; Ivy Mode
  (use-package ivy
    :delight ivy-mode
    :ensure t
    :demand t
    :config (progn
              (ivy-mode 1)
              (setq ivy-height 30)
              (setq ivy-fixed-height-minibuffer 30)
              (setq ivy-use-virtual-buffers t)
              (setq ivy-count-format "(%d/%d) ")
              (setq ivy-extra-directories ()))
    :bind (("C-c C-r" . ivy-resume)))

    (setq ivy-re-builders-alist
    '((read-file-name-internal . ivy--regex-ignore-order)
    (counsel-M-x . ivy--regex-ignore-order)
    (counsel-projectile-find-file . ivy--regex-ignore-order)
    (ivy-switch-buffer . ivy--regex-ignore-order)
    (projectile-completing-read . ivy--regex-ignore-order)
    (t . ivy--regex-ignore-order)))
    ;; Views
    (global-set-key (kbd "C-c v") 'ivy-push-view)
    (global-set-key (kbd "C-c V") 'ivy-pop-view)

#+end_src
* Counsel
#+begin_src elisp
  ;; Counsel
  (use-package counsel
    :delight
    :ensure t
    :demand t
    :bind (
           ("M-x" . counsel-M-x)
           ("M-s s" . swiper)
           ("C-x C-f". counsel-find-file)
           ("<f1> f" . counsel-describe-function)
           ("<f1> v" . counsel-describe-variable)
           ("<f1> l" . counsel-find-library)
           ("<f2> i" . counsel-info-lookup-symbol)
           ("<f2> u" . counsel-unicode-char)
           ("s-r" . counsel-recentf)
           ;;("C-c c" . counsel-compile)
           ("s-f" . counsel-projectile-find-file)
           ;("C-c g" . counsel-git)
           ;("C-c j" . counsel-git-grep)
           ("s-;" . counsel-ag)
           ;("C-x l" . counsel-locate)
           ;("C-<tab>" . counsel-company)
           )
    :config
    (setq counsel-find-file-ignore-regexp
          (concat
           ;; File names beginning with # or .
           "\\(?:\\`[#.]\\)"
           ;; File names ending with # or ~
           "\\|\\(?:\\`.+?[#~]\\'\\)"))

    (setq ivy-initial-inputs-alist nil))

#+end_src
* Counsel Projectile
#+begin_src elisp
(use-package counsel-projectile
  :delight
  :ensure t
  :demand t
  :init
  (define-key projectile-mode-map (kbd "C-c p") 'projectile-command-map)
  )

#+end_src
* Ivy Posframe
  Show minibuffer anywhere on the screen
#+begin_src elisp :tangle no
  ;; Ivy Posframe
  (use-package ivy-posframe
    :init
    :ensure t
    :config
    ;; display at `ivy-posframe-style'
    (setq ivy-posframe-display-functions-alist '((t . ivy-posframe-display)))
                                          ;(setq ivy-posframe-display-functions-alist '((t . ivy-posframe-display-at-frame-center)))
    (setq ivy-posframe-display-functions-alist '((t . ivy-posframe-display-at-frame-)))
    (ivy-posframe-mode 1)
    )

#+end_src
* Counsel Tramp
#+begin_src elisp
;; Counsel Tramp
(use-package counsel-tramp
  :init
  :ensure t
  :config
  (setq tramp-default-method "ssh")
  (define-key global-map (kbd "C-c s") 'counsel-tramp))
#+end_src
* Prescient
#+begin_src elisp
(use-package prescient
  :init
  :demand t
  :ensure t
  :config
  (prescient-persist-mode +1)
  )
#+end_src
* Ivy-Prescient
#+begin_src elisp
(use-package ivy-prescient
  :init
  :demand t
  :ensure t
  :config
  (ivy-prescient-mode +1)
  (add-to-list 'ivy-prescient-sort-commands 'counsel-recentf)
  (setq ivy-prescient-retain-classic-highlighting t)
  )
#+end_src
* company-prescient
#+begin_src elisp
(use-package company-prescient
  :init
  :demand t
  :ensure t
  :config
  (company-prescient-mode +1)
  )

#+end_src
* Helm
#+begin_src elisp
;; Helm
(use-package helm
  :init
  :ensure t
  :config
  (setq helm-ff-skip-boring-files t)
  :bind
  ;("M-x" . helm-M-x)
  ;("C-x C-f". helm-find-files)
  )
#+end_src
* Helm Swoop
#+begin_src elisp
;; Helm Swoop
(use-package helm-swoop
  :init
  :ensure t
  :config
  )
#+end_src
* Helm Projectile
#+begin_src elisp
;; Helm Projectile
(use-package helm-projectile
  :init
  :ensure t
  :config
  )
#+end_src
* Helm Ag
#+begin_src elisp
;; Helm Ag
(use-package helm-ag
  :init
  :ensure t
  :config
  (setq helm-follow-mode-persistent t)
  )
#+end_src
* Package End
#+begin_src elisp

(provide 'my-ivy)

;;; my-ivy package ends here

#+end_src
